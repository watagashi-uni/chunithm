<h2>⚠️ 停服公告 ⚠️</h2>
<p><strong>Unibot</strong>已于2024年11月1日22点正式停止所有公开服务。Unibot所提供的全部服务及其分布式客户端已无法继续使用。</p>

<h3>特别提醒</h3>
<p>由于Unibot的背景素材与代码已开源，可能会有其他bot使用标注“<em>Generated by Unibot</em>”的背景图，或使用修改后的Unibot源代码创建类似的bot。若您发现此类bot，请注意它们均非由我运营。</p>

<p>任何此类bot造成的后果与我无关，关于之后出现的新bot的问题也请不要询问我。</p>

# 中二模块说明

该模块是 [Unibot](https://github.com/watagashi-uni/Unibot) 的一个子模块，引用了部分来自 Unibot 库的 module

API 和 aimedb 请求部分不适合公开，所以该库不包含以上内容，用能力的请自己抓包游戏。

该库同时使用了 [zvuc/otoge-db](https://github.com/zvuc/otoge-db) 中的 [music-ex.json](https://github.com/zvuc/otoge-db/blob/master/chunithm/data/music-ex.json) 来展示歌曲版本和更新日期信息

该库会同步更新新曲数据，数据由以下方式生成

## 最初所需文件

- 从 [https://chunithm.sega.jp/storage/json/music.json](https://chunithm.sega.jp/storage/json/music.json) 下载的官方歌曲 json 文件
- 一份 SDHD 游戏文件（包含 A000 和 option）

## 生成歌曲数据
1、新建`masterdata`，`jackets`文件夹

2、修改代理（可删除），填入`A000_dir`和`option_dir`，运行`analyse_official_data.py`，此操作会生成`masterdata`文件夹下的`musics.json`文件和一个`music_difficulties.csv`，里面有本地没有的歌曲的数据，还会下载歌曲封面。

3、打开 csv 文件，填入本地没有的歌曲的定数，ULTIMA 和 WORLD'S END 谱面没有的填 0 即可

4、再运行一次`analyse_official_data.py`，完成数据生成

5、建议安装削除曲补全包后填入路径运行`sdhd_analyser.py`，会生成一份本地处理出来的数据，可补全削除曲。该文件的作用是靠官方数据的文件查不到的歌会在这个文件里面再查一遍，所以可以显示削除曲

## 更新歌曲数据

官方更新 music.json 后下载覆盖，运行一次`analyse_official_data.py`，填入 csv 文件中新曲定数，再运行一次`analyse_official_data.py`即可

## 谱面预览

修改代理（可删除）后，可设置定时任务运行`analyse_sdvxin.py`，会生成`sdvxin_chuni.json`文件，对应曲名和 sdvx.in 网站的 id
